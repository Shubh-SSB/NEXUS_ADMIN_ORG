{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/factory/crudFactory.ts"],"sourcesContent":["/** @format */\r\n\r\nimport axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\r\nimport { enqueueSnackbar } from \"notistack\";\r\n\r\ninterface RequestOptions extends AxiosRequestConfig {\r\n  url?: string;\r\n  data?: Record<string, any>;\r\n  notify?: boolean;\r\n  ajaxOptions?: AxiosRequestConfig;\r\n}\r\n\r\ninterface NotifyOptions {\r\n  message: string;\r\n  type: string;\r\n}\r\n\r\ninterface ResponseData {\r\n  data: any[];\r\n  message: string;\r\n  type: \"error\" | \"success\";\r\n  errors?: any[];\r\n}\r\n\r\nexport class CrudFactory {\r\n  dateFormat: string = \"MMMM Do YYYY hh:mm A\";\r\n  BASE_URL: string = \"https://nexus-backend-sghn.onrender.com/api/\";\r\n  // BASE_URL: string = \"http://192.168.244.90:9000/api/\";\r\n\r\n  getUrl(...segments: string[]): string {\r\n    return segments.reduce((url, segment) => url + segment, \"\");\r\n  }\r\n\r\n  async get(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {},\r\n  ) {\r\n    return this.send({\r\n      method: \"GET\",\r\n      url: `${this.BASE_URL}${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async post(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {},\r\n  ) {\r\n    return this.send({\r\n      method: \"POST\",\r\n      url: `${this.BASE_URL}${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async create(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {},\r\n  ) {\r\n    return this.send({\r\n      method: \"POST\",\r\n      url: `${this.BASE_URL}create/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async retrieve(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {},\r\n  ) {\r\n    return this.send({\r\n      method: \"GET\",\r\n      url: `${this.BASE_URL}retrieve/admin/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async update(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {},\r\n  ) {\r\n    return this.send({\r\n      method: \"PUT\",\r\n      url: `${this.BASE_URL}update/admin/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async delete(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {},\r\n  ) {\r\n    return this.send({\r\n      method: \"DELETE\",\r\n      url: `${this.BASE_URL}delete/admin/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async uploadFile(\r\n    url: string,\r\n    formData: FormData,\r\n    requestOptions: RequestOptions = {},\r\n  ): Promise<ResponseData> {\r\n    const fullUrl = `${this.BASE_URL}${url}`;\r\n    const token = localStorage.getItem(\"token\") || \"\";\r\n\r\n    try {\r\n      const response = await axios.post(fullUrl, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n        validateStatus: (status) =>\r\n          status === 200 || status === 400 || status === 401 || status === 201,\r\n        ...requestOptions.ajaxOptions,\r\n      });\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        const res = response.data;\r\n        if (requestOptions.notify !== false) {\r\n          await this.notify({ message: res.message, type: res.type });\r\n        }\r\n        if (res.type === \"error\") throw res;\r\n        return res;\r\n      } else {\r\n        const res = response.data;\r\n        await this.notify({ message: res.message, type: \"error\" });\r\n        throw res;\r\n      }\r\n    } catch (e: any) {\r\n      if (!e.message) {\r\n        await this.notify({\r\n          message: \"Something went wrong at our end.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  async notify({ message, type }: NotifyOptions) {\r\n    if (message) {\r\n      console.log(message, \"message\");\r\n      enqueueSnackbar(message, {\r\n        variant: type as \"success\" | \"error\" | \"info\" | \"warning\",\r\n        autoHideDuration: 3000,\r\n      });\r\n    }\r\n  }\r\n\r\n  async send(requestOptions: RequestOptions = {}): Promise<ResponseData> {\r\n    const {\r\n      url = \"\",\r\n      data = {},\r\n      method = \"GET\",\r\n      notify = true,\r\n    } = requestOptions;\r\n\r\n    const options: AxiosRequestConfig = {\r\n      ...requestOptions.ajaxOptions,\r\n      method,\r\n      data,\r\n    };\r\n\r\n    const fullUrl = this.getUrl(url);\r\n    const token = localStorage.getItem(\"token\") || \"\";\r\n\r\n    options.headers = {\r\n      ...options.headers,\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    };\r\n\r\n    let res: ResponseData = {\r\n      data: [],\r\n      message: \"\",\r\n      type: \"error\",\r\n      errors: [],\r\n    };\r\n\r\n    const finalOptions: AxiosRequestConfig = {\r\n      ...options,\r\n      url: fullUrl,\r\n      validateStatus: (status) =>\r\n        status === 200 || status === 400 || status === 401 || status === 201,\r\n    };\r\n\r\n    try {\r\n      const response: AxiosResponse<ResponseData> = await axios(finalOptions);\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        res = response.data;\r\n        const { type, message } = res;\r\n\r\n        if (method !== \"GET\" && notify) {\r\n          await this.notify({ message, type });\r\n        }\r\n      } else if (response.status === 401 || response.status === 400) {\r\n        res = response.data;\r\n        const { message } = res;\r\n        await this.notify({ message, type: \"error\" });\r\n      } else {\r\n        throw new Error(`${response.status} : ${response.statusText}`);\r\n      }\r\n    } catch (e) {\r\n      await this.notify({\r\n        message: \"Something went wrong at our end.\",\r\n        type: \"error\",\r\n      });\r\n      throw e;\r\n    }\r\n\r\n    if (res.type === \"error\") throw res;\r\n\r\n    return res;\r\n  }\r\n}\r\n\r\nexport const $crud = new CrudFactory();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/services/studentsService.ts"],"sourcesContent":["import { $crud } from \"@/factory/crudFactory\";\r\n\r\nexport interface AssignedCourse {\r\n  id: number;\r\n  remainingToken: number;\r\n  course: {\r\n    id: number;\r\n    name: string;\r\n    description: string;\r\n  };\r\n}\r\n\r\nexport interface FiltersProps {\r\n  onSearchChange: (query: string) => void;\r\n}\r\n\r\nexport interface StudentData {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  phone?: string;\r\n  dob?: string;\r\n  courses?: number;\r\n}\r\n\r\nexport interface CreateStudentData {\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  dob: string;\r\n  enrollCourses: number[];\r\n  password: string;\r\n}\r\n\r\nexport interface UpdateStudentData {\r\n  name: string;\r\n  email: string;\r\n  phone?: string;\r\n  dob?: string;\r\n}\r\n\r\nexport interface PaginationParams {\r\n  page: number;\r\n  limit: number;\r\n}\r\n\r\nexport interface PaginatedStudentsResponse {\r\n  students: StudentData[];\r\n  totalRecords: number;\r\n  currentPage: number;\r\n  totalPages: number;\r\n  hasNextPage: boolean;\r\n  hasPrevPage: boolean;\r\n}\r\n\r\nexport interface PaginationParams {\r\n  page: number;\r\n  limit: number;\r\n}\r\n\r\nexport interface PaginatedStudentsResponse {\r\n  students: StudentData[];\r\n  totalRecords: number;\r\n  currentPage: number;\r\n  totalPages: number;\r\n  hasNextPage: boolean;\r\n  hasPrevPage: boolean;\r\n}\r\n\r\nexport class StudentsService {\r\n  // Transform raw API student data to our StudentData interface\r\n  private static transformStudent(student: any): StudentData {\r\n    return {\r\n      id: student.id?.toString() || Math.random().toString(),\r\n      name: student.name || \"窶能",\r\n      email: student.email || \"窶能",\r\n      phone: student.phone || \"窶能",\r\n      dob: student.dob ? new Date(student.dob).toLocaleDateString() : \"窶能",\r\n      courses: student.enrolledCourses || student.courses || 0,\r\n    };\r\n  }\r\n\r\n  static async fetchStudents(\r\n    params?: PaginationParams,\r\n  ): Promise<StudentData[]> {\r\n    try {\r\n      let url = \"retrieve/organization/students\";\r\n      if (params) {\r\n        url += `?page=${params.page}&limit=${params.limit}`;\r\n      }\r\n\r\n      const response = await $crud.get(url);\r\n\r\n      // Handle the actual API response structure: response.data.rows\r\n      //   @ts-ignore\r\n      if (response.data?.rows && Array.isArray(response.data.rows)) {\r\n        // @ts-ignore\r\n        return response.data.rows.map(this.transformStudent);\r\n      } else {\r\n        console.warn(\"Unexpected API response format:\", response);\r\n        return [];\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching students:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async fetchStudentsWithMeta(\r\n    params?: PaginationParams & { search?: string },\r\n  ): Promise<PaginatedStudentsResponse> {\r\n    try {\r\n      // const url = \"retrieve/organization/students\";\r\n      const response = await $crud.get(\r\n        `retrieve/organization/students?page=${\r\n          params?.page\r\n        }&limit=${params?.limit}&search=${params?.search || \"\"}`,\r\n      );\r\n      // @ts-ignore\r\n      if (response.data?.rows && Array.isArray(response.data.rows)) {\r\n        // @ts-ignore\r\n        const students = response.data.rows.map(this.transformStudent);\r\n        //   @ts-ignore\r\n        const totalRecords = response.data.totalRecords || students.length;\r\n        const currentPage = params?.page ?? 0;\r\n        const limit = params?.limit || totalRecords;\r\n        const totalPages = Math.ceil(totalRecords / limit);\r\n\r\n        return {\r\n          students,\r\n          totalRecords,\r\n          currentPage,\r\n          totalPages,\r\n          hasNextPage: currentPage < totalPages - 1,\r\n          hasPrevPage: currentPage > 0,\r\n        };\r\n      } else {\r\n        console.warn(\"Unexpected API response format:\", response);\r\n        return {\r\n          students: [],\r\n          totalRecords: 0,\r\n          currentPage: 0,\r\n          totalPages: 0,\r\n          hasNextPage: false,\r\n          hasPrevPage: false,\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching students:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async createStudent(\r\n    studentData: CreateStudentData,\r\n  ): Promise<StudentData> {\r\n    try {\r\n      const response = await $crud.post(\r\n        \"create/organization/student\",\r\n        studentData,\r\n      );\r\n\r\n      if (response.data) {\r\n        return this.transformStudent(response.data);\r\n      }\r\n      throw new Error(\"Failed to create student\");\r\n    } catch (error) {\r\n      console.error(\"Error creating student:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async updateStudent(\r\n    id: string,\r\n    studentData: UpdateStudentData,\r\n  ): Promise<StudentData> {\r\n    try {\r\n      const response = await $crud.update(\r\n        `update/organization/student/${id}`,\r\n        studentData,\r\n      );\r\n\r\n      if (response.data) {\r\n        return this.transformStudent(response.data);\r\n      }\r\n      throw new Error(\"Failed to update student\");\r\n    } catch (error) {\r\n      console.error(\"Error updating student:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async getStudent(id: string): Promise<StudentData | null> {\r\n    try {\r\n      const response = await $crud.get(`retrieve/organization/students/${id}`);\r\n\r\n      if (response.data) {\r\n        return this.transformStudent(response.data);\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error(\"Error fetching student:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async bulkCreateStudents(csvFile: File): Promise<StudentData[]> {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"csv\", csvFile);\r\n\r\n      const response = await $crud.uploadFile(\r\n        \"create/organization/students/bulk\",\r\n        formData,\r\n      );\r\n\r\n      if (response.data && Array.isArray(response.data)) {\r\n        return response.data.map(this.transformStudent);\r\n      }\r\n      return [];\r\n    } catch (error) {\r\n      console.error(\"Error bulk creating students:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async fetchAvailableCourses(params?: {\r\n    search?: string;\r\n  }): Promise<AssignedCourse[]> {\r\n    try {\r\n      const response = await $crud.get(\r\n        `retrieve/organization/assigned/courses?search=${params?.search}`,\r\n      );\r\n      // @ts-ignore\r\n      return response.data?.assignedCourses || [];\r\n    } catch (error) {\r\n      return [];\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/ui/courseSkeleton.tsx"],"sourcesContent":["import { Card, CardDescription, CardHeader, CardTitle } from \"./card\";\r\nimport { Skeleton } from \"./skeleton\";\r\n\r\nexport function CourseSkeleton({ rows = 10 }: { rows?: number }) {\r\n  return (\r\n    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n      {Array.from({ length: rows }).map((_, index) => (\r\n        <Card key={index} className=\"overflow-hidden border-foreground/50\">\r\n          <CardHeader>\r\n            <div className=\"flex justify-between items-start gap-2 mb-2\">\r\n              {/* Avatar skeleton */}\r\n              <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n              {/* Token badge skeleton */}\r\n              <Skeleton className=\"h-6 w-24 rounded-full\" />\r\n            </div>\r\n            <CardTitle className=\"line-clamp-2 text-balance\">\r\n              <Skeleton className=\"h-6 w-3/4 mb-2\" />\r\n              <Skeleton className=\"h-4 w-1/2\" />\r\n            </CardTitle>\r\n            <CardDescription className=\"line-clamp-2 text-balance mt-2\">\r\n              <Skeleton className=\"h-4 w-full mb-1\" />\r\n              <Skeleton className=\"h-4 w-5/6\" />\r\n            </CardDescription>\r\n          </CardHeader>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS,eAAe,EAAE,OAAO,EAAE,EAAqB;IAC7D,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,sBACpC,8OAAC,iIAAI;gBAAa,WAAU;0BAC1B,cAAA,8OAAC,uIAAU;;sCACT,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC,yIAAQ;oCAAC,WAAU;;;;;;8CAEpB,8OAAC,yIAAQ;oCAAC,WAAU;;;;;;;;;;;;sCAEtB,8OAAC,sIAAS;4BAAC,WAAU;;8CACnB,8OAAC,yIAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,yIAAQ;oCAAC,WAAU;;;;;;;;;;;;sCAEtB,8OAAC,4IAAe;4BAAC,WAAU;;8CACzB,8OAAC,yIAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,yIAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;eAdf;;;;;;;;;;AAqBnB"}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/courses/course-grid.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useMemo } from \"react\";\nimport {\n  Card,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\n\nimport { StudentsService } from \"@/services/studentsService\";\nimport { AssignedCourse } from \"@/services/studentsService\";\nimport { CourseSkeleton } from \"../ui/courseSkeleton\";\nimport { useCallback } from \"react\";\n\ninterface CourseGridProps {\n  searchQuery: string;\n}\n\nexport function CourseGrid({ searchQuery }: CourseGridProps) {\n  const [courses, setCourses] = useState<AssignedCourse[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fetchCourses = useCallback(async (query: string) => {}, []);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const handler = setTimeout(async () => {\n      const data = await StudentsService.fetchAvailableCourses({\n        search: searchQuery,\n      });\n      setCourses(data);\n      setIsLoading(false);\n    }, 300);\n    return () => clearTimeout(handler);\n  }, [searchQuery]);\n\n  if (isLoading) {\n    return <CourseSkeleton />;\n  }\n\n  return (\n    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n      {courses.length === 0 ? (\n        <div className=\"col-span-full text-center py-8 text-muted-foreground\">\n          No courses found matching \"{searchQuery}\"\n        </div>\n      ) : (\n        courses.map((c, index) => (\n          <Card key={index} className=\"overflow-hidden border-foreground/50\">\n            <CardHeader>\n              <CardTitle className=\"line-clamp-2 text-balance\">\n                <div className=\"flex justify-between items-start gap-2\">\n                  {c.course.name}\n                  <span className=\"text-sm font-medium text-main-bg\">\n                    Remaining Tokens : {c.remainingToken}\n                    <span className=\"text-white\">{c.remainingToken}</span>\n                  </span>\n                </div>\n              </CardTitle>\n              <CardDescription className=\"line-clamp-2 text-balance\">\n                {c.course.description}\n              </CardDescription>\n            </CardHeader>\n          </Card>\n        ))\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AAEA;AAZA;;;;;;;AAmBO,SAAS,WAAW,EAAE,WAAW,EAAmB;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAmB,EAAE;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,eAAe,IAAA,oNAAW,EAAC,OAAO,SAAmB,GAAG,EAAE;IAEhE,IAAA,kNAAS,EAAC;QACR,aAAa;QACb,MAAM,UAAU,WAAW;YACzB,MAAM,OAAO,MAAM,8IAAe,CAAC,qBAAqB,CAAC;gBACvD,QAAQ;YACV;YACA,WAAW;YACX,aAAa;QACf,GAAG;QACH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAY;IAEhB,IAAI,WAAW;QACb,qBAAO,8OAAC,qJAAc;;;;;IACxB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,QAAQ,MAAM,KAAK,kBAClB,8OAAC;YAAI,WAAU;;gBAAuD;gBACxC;gBAAY;;;;;;mBAG1C,QAAQ,GAAG,CAAC,CAAC,GAAG,sBACd,8OAAC,iIAAI;gBAAa,WAAU;0BAC1B,cAAA,8OAAC,uIAAU;;sCACT,8OAAC,sIAAS;4BAAC,WAAU;sCACnB,cAAA,8OAAC;gCAAI,WAAU;;oCACZ,EAAE,MAAM,CAAC,IAAI;kDACd,8OAAC;wCAAK,WAAU;;4CAAmC;4CAC7B,EAAE,cAAc;0DACpC,8OAAC;gDAAK,WAAU;0DAAc,EAAE,cAAc;;;;;;;;;;;;;;;;;;;;;;;sCAIpD,8OAAC,4IAAe;4BAAC,WAAU;sCACxB,EAAE,MAAM,CAAC,WAAW;;;;;;;;;;;;eAZhB;;;;;;;;;;AAoBrB"}},
    {"offset": {"line": 647, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground cursor-pointer  dark:hover:bg-input/80 placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qeACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/courses/course-filters.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Search } from \"lucide-react\";\nimport { FiltersProps } from \"@/services/studentsService\";\n\nexport function CourseFilters({ onSearchChange }: FiltersProps) {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  // Debounce search\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onSearchChange(inputValue);\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [inputValue, onSearchChange]);\n\n  return (\n    <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n      <div className=\"relative flex-1 max-w-md\">\n        <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n        <Input\n          placeholder=\"Search courses...\"\n          className=\"pl-9\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOO,SAAS,cAAc,EAAE,cAAc,EAAgB;IAC5D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,kBAAkB;IAClB,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,WAAW;YACvB,eAAe;QACjB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAY;KAAe;IAE/B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,gNAAM;oBAAC,WAAU;;;;;;8BAClB,8OAAC,mIAAK;oBACJ,aAAY;oBACZ,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;AAKvD"}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/app/%28admin%29/courses/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { CourseGrid } from \"@/components/courses/course-grid\";\nimport { CourseFilters } from \"@/components/courses/course-filters\";\n\nexport default function CoursesPage() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Courses</h1>\n          <p className=\"text-muted-foreground mt-1\">View learning content</p>\n        </div>\n      </div>\n\n      <CourseFilters onSearchChange={setSearchQuery} />\n      <CourseGrid searchQuery={searchQuery} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;;sCACC,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;;;;;;0BAI9C,8OAAC,4JAAa;gBAAC,gBAAgB;;;;;;0BAC/B,8OAAC,sJAAU;gBAAC,aAAa;;;;;;;;;;;;AAG/B"}}]
}