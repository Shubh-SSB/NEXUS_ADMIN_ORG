{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/factory/crudFactory.ts"],"sourcesContent":["/** @format */\r\n\r\nimport axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\r\nimport { enqueueSnackbar } from \"notistack\";\r\n\r\ninterface RequestOptions extends AxiosRequestConfig {\r\n  url?: string;\r\n  data?: Record<string, any>;\r\n  notify?: boolean;\r\n  ajaxOptions?: AxiosRequestConfig;\r\n}\r\n\r\ninterface NotifyOptions {\r\n  message: string;\r\n  type: string;\r\n}\r\n\r\ninterface ResponseData {\r\n  data: any[];\r\n  message: string;\r\n  type: \"error\" | \"success\";\r\n  errors?: any[];\r\n}\r\n\r\nexport class CrudFactory {\r\n  dateFormat: string = \"MMMM Do YYYY hh:mm A\";\r\n  BASE_URL: string = \"https://nexus-backend-sghn.onrender.com/api/\";\r\n  // BASE_URL: string = \"http://192.168.0.107:8000/api/\";\r\n\r\n  getUrl(...segments: string[]): string {\r\n    return segments.reduce((url, segment) => url + segment, \"\");\r\n  }\r\n\r\n  async get(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {}\r\n  ) {\r\n    return this.send({\r\n      method: \"GET\",\r\n      url: `${this.BASE_URL}${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async post(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {}\r\n  ) {\r\n    return this.send({\r\n      method: \"POST\",\r\n      url: `${this.BASE_URL}${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async create(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {}\r\n  ) {\r\n    return this.send({\r\n      method: \"POST\",\r\n      url: `${this.BASE_URL}create/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async retrieve(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {}\r\n  ) {\r\n    return this.send({\r\n      method: \"GET\",\r\n      url: `${this.BASE_URL}retrieve/admin/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async update(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {}\r\n  ) {\r\n    return this.send({\r\n      method: \"PUT\",\r\n      url: `${this.BASE_URL}update/admin/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async delete(\r\n    url: string,\r\n    data: Record<string, any> = {},\r\n    requestOptions: RequestOptions = {}\r\n  ) {\r\n    return this.send({\r\n      method: \"DELETE\",\r\n      url: `${this.BASE_URL}delete/admin/${url}`,\r\n      data,\r\n      ...requestOptions,\r\n    });\r\n  }\r\n\r\n  async notify({ message, type }: NotifyOptions) {\r\n    if (message) {\r\n      console.log(message, \"message\");\r\n      enqueueSnackbar(message, {\r\n        variant: type as \"success\" | \"error\" | \"info\" | \"warning\",\r\n        autoHideDuration: 3000,\r\n      });\r\n    }\r\n  }\r\n\r\n  async send(requestOptions: RequestOptions = {}): Promise<ResponseData> {\r\n    const {\r\n      url = \"\",\r\n      data = {},\r\n      method = \"GET\",\r\n      notify = true,\r\n    } = requestOptions;\r\n\r\n    const options: AxiosRequestConfig = {\r\n      ...requestOptions.ajaxOptions,\r\n      method,\r\n      data,\r\n    };\r\n\r\n    const fullUrl = this.getUrl(url);\r\n    const token = localStorage.getItem(\"adminToken\") || \"\";\r\n\r\n    options.headers = {\r\n      ...options.headers,\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    };\r\n\r\n    let res: ResponseData = {\r\n      data: [],\r\n      message: \"\",\r\n      type: \"error\",\r\n      errors: [],\r\n    };\r\n\r\n    const finalOptions: AxiosRequestConfig = {\r\n      ...options,\r\n      url: fullUrl,\r\n      validateStatus: (status) =>\r\n        status === 200 || status === 400 || status === 401 || status === 201,\r\n    };\r\n\r\n    try {\r\n      const response: AxiosResponse<ResponseData> = await axios(finalOptions);\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        res = response.data;\r\n        const { type, message } = res;\r\n\r\n        if (method !== \"GET\" && notify) {\r\n          await this.notify({ message, type });\r\n        }\r\n      } else if (response.status === 401 || response.status === 400) {\r\n        res = response.data;\r\n        const { message } = res;\r\n        await this.notify({ message, type: \"error\" });\r\n      } else {\r\n        throw new Error(`${response.status} : ${response.statusText}`);\r\n      }\r\n    } catch (e) {\r\n      await this.notify({\r\n        message: \"Something went wrong at our end.\",\r\n        type: \"error\",\r\n      });\r\n      throw e;\r\n    }\r\n\r\n    if (res.type === \"error\") throw res;\r\n\r\n    return res;\r\n  }\r\n}\r\n\r\nexport const $crud = new CrudFactory();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/functions/login.ts"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { LoginFormData, UseLoginReturn } from \"../types/login\";\r\nimport { $crud } from \"../factory/crudFactory\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport const useLogin = (\r\n  onLogin?: (formData: LoginFormData) => Promise<void>,\r\n  onForgotPassword?: (email: string) => Promise<void>\r\n): UseLoginReturn => {\r\n  const [formData, setFormData] = useState<LoginFormData>({\r\n    email: \"\",\r\n    password: \"\",\r\n    rememberMe: false,\r\n  });\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    // Basic validation only\r\n    if (!formData.email || !formData.password) {\r\n      return; // Let CrudFactory handle empty field errors\r\n    }\r\n\r\n    await onLogin?.(formData); // CrudFactory handles all errors/success\r\n  };\r\n\r\n  const handleForgotPassword = async () => {\r\n    if (!formData.email) {\r\n      return; // Let user know they need email\r\n    }\r\n\r\n    await onForgotPassword?.(formData.email); // CrudFactory handles errors/success\r\n  };\r\n\r\n  return {\r\n    formData,\r\n    handleInputChange,\r\n    handleSubmit,\r\n    handleForgotPassword,\r\n  };\r\n};\r\n\r\nexport const adminLogin = async (formData: LoginFormData): Promise<void> => {\r\n  await $crud.post(\"organization/login\", {\r\n    email: formData.email,\r\n    password: formData.password,\r\n    // remember_me: formData.rememberMe,\r\n  });\r\n\r\n  // Redirect on success\r\n  redirect(\"/dashboard\");\r\n};\r\n\r\nexport const forgotPassword = async (email: string): Promise<void> => {\r\n  await $crud.post(\"auth/forgot-password\", { email });\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AACA;AAEA;AACA;AAJA;;;;AAMO,MAAM,WAAW,CACtB,SACA;IAEA,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;QACtD,OAAO;QACP,UAAU;QACV,YAAY;IACd;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,MAAM;QAC/C,YAAY,CAAC,OAAS,CAAC;gBACrB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE,SAAS,aAAa,UAAU;YAC1C,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,wBAAwB;QACxB,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,QAAQ,EAAE;YACzC,QAAQ,4CAA4C;QACtD;QAEA,MAAM,UAAU,WAAW,yCAAyC;IACtE;IAEA,MAAM,uBAAuB;QAC3B,IAAI,CAAC,SAAS,KAAK,EAAE;YACnB,QAAQ,gCAAgC;QAC1C;QAEA,MAAM,mBAAmB,SAAS,KAAK,GAAG,qCAAqC;IACjF;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,+HAAK,CAAC,IAAI,CAAC,sBAAsB;QACrC,OAAO,SAAS,KAAK;QACrB,UAAU,SAAS,QAAQ;IAE7B;IAEA,sBAAsB;IACtB,IAAA,8IAAQ,EAAC;AACX;AAEO,MAAM,iBAAiB,OAAO;IACnC,MAAM,+HAAK,CAAC,IAAI,CAAC,wBAAwB;QAAE;IAAM;AACnD"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/ui/login-form.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { Mail, Lock, Eye, EyeOff } from \"lucide-react\";\r\nimport { LoginProps } from \"../../types/login\";\r\nimport { useLogin } from \"../../functions/login\";\r\n\r\nconst LoginForm: React.FC<LoginProps> = ({\r\n  onLogin,\r\n  onForgotPassword,\r\n  onSignUp,\r\n  isLoading = false,\r\n  error,\r\n}) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  // Use isLoading prop for loading state\r\n  const [showPassword, setShowPassword] = React.useState(false);\r\n  const [shake, setShake] = React.useState(false);\r\n\r\n  const { formData, handleInputChange, handleSubmit, handleForgotPassword } =\r\n    useLogin(onLogin, onForgotPassword);\r\n\r\n  return (\r\n    <div\r\n      className={`w-full relative flex flex-col items-center justify-center px-12 z-10\r\n        transition-all`}\r\n    >\r\n      <div className=\"relative z-10 w-full\">\r\n        <h2 className=\"text-3xl font-bold text-white\">Welcome Back!</h2>\r\n        <p className=\"text-md font-thin text-secondary-bg my-4\">\r\n          Login with your admin credential\r\n        </p>\r\n\r\n        <form className=\"w-full min-w-80 space-y-4\" onSubmit={handleSubmit}>\r\n          {/* EMAIL */}\r\n          <div\r\n            className={`flex flex-col gap-2 transition-all ${\r\n              shake ? \"animate-shake\" : \"\"\r\n            }`}\r\n          >\r\n            <label htmlFor=\"email\" className=\"text-white text-sm font-medium\">\r\n              Email\r\n            </label>\r\n\r\n            <div className=\"relative group\">\r\n              <div\r\n                className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\r\n                transition-colors group-focus-within:text-red-800\"\r\n              >\r\n                <Mail className=\"h-5 w-5 text-main-bg/70\" />\r\n              </div>\r\n\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Eg.: user@company.edu.in\"\r\n                disabled={isLoading}\r\n                required\r\n                className=\"w-full pl-10 pr-4 py-3 rounded-lg\r\n                  border-2 border-main-bg/20 bg-white/10\r\n                  text-secondary-bg placeholder-secondary-bg\r\n                  focus:outline-none focus:ring-2 focus:ring-main-bg\r\n                  focus:border-transparent transition-all\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* PASSWORD */}\r\n          <div\r\n            className={`flex flex-col gap-2 transition-all ${\r\n              shake ? \"animate-shake\" : \"\"\r\n            }`}\r\n          >\r\n            <label\r\n              htmlFor=\"password\"\r\n              className=\"text-white text-sm font-medium\"\r\n            >\r\n              Password\r\n            </label>\r\n\r\n            <div className=\"relative group\">\r\n              <div\r\n                className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\r\n                transition-colors group-focus-within:text-red-800\"\r\n              >\r\n                <Lock className=\"h-5 w-5 text-main-bg/70\" />\r\n              </div>\r\n\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                value={formData.password}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Enter your secure password\"\r\n                disabled={isLoading}\r\n                required\r\n                className=\"w-full pl-10 pr-14 py-3 rounded-lg\r\n                  border-2 border-main-bg/20 bg-white/10\r\n                  text-secondary-bg placeholder-secondary-bg\r\n                  focus:outline-none focus:ring-2 focus:ring-main-bg\r\n                  focus:border-transparent transition-all\"\r\n              />\r\n\r\n              {/* Show / Hide */}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword((p) => !p)}\r\n                className=\"absolute inset-y-0 right-3 flex items-center\r\n                  text-white/60 hover:text-white transition\"\r\n              >\r\n                {showPassword ? (\r\n                  <EyeOff className=\"ease-in\" size={18} />\r\n                ) : (\r\n                  <Eye className=\"ease-out\" size={18} />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* REMEMBER + FORGOT */}\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                id=\"remember\"\r\n                name=\"rememberMe\"\r\n                type=\"checkbox\"\r\n                checked={formData.rememberMe}\r\n                onChange={handleInputChange}\r\n                disabled={isLoading}\r\n                className=\"w-4 h-4 rounded bg-white/10\r\n                  checked:scale-110 transition-transform accent-color-main-bg\"\r\n              />\r\n              <label htmlFor=\"remember\" className=\"text-white text-sm\">\r\n                Remember me\r\n              </label>\r\n            </div>\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleForgotPassword}\r\n              disabled={isLoading}\r\n              className=\"text-main-bg hover:text-red-700 text-sm\r\n                hover:underline transition-all\"\r\n            >\r\n              Forgot password?\r\n            </button>\r\n          </div>\r\n\r\n          {/* SUBMIT */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"w-full py-3 px-4 my-4 bg-black\r\n              hover:bg-black/90 active:scale-[0.98]\r\n              transition-transform disabled:bg-gray-700\r\n              text-white font-medium rounded-lg\r\n              flex items-center justify-center\"\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <svg\r\n                  className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <circle\r\n                    className=\"opacity-25\"\r\n                    cx=\"12\"\r\n                    cy=\"12\"\r\n                    r=\"10\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"4\"\r\n                  />\r\n                  <path\r\n                    className=\"opacity-75\"\r\n                    fill=\"currentColor\"\r\n                    d=\"M4 12a8 8 0 018-8V0\r\n                       C5.373 0 0 5.373 0 12h4z\"\r\n                  />\r\n                </svg>\r\n                Logging In...\r\n              </>\r\n            ) : (\r\n              \"Log In\"\r\n            )}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/ui/login.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { LoginProps } from \"../../types/login\";\r\nimport LoginForm from \"./login-form\";\r\nimport Lottie from \"./dotlottie\";\r\nimport Image from \"next/image\";\r\nimport { DotLottieReact } from \"@lottiefiles/dotlottie-react\";\r\n\r\nconst Login: React.FC<LoginProps> = ({\r\n  onLogin,\r\n  onForgotPassword,\r\n  onSignUp,\r\n  isLoading = false,\r\n  error,\r\n}) => {\r\n  return (\r\n    <div className=\"h-screen w-screen items-center bg-foreground overflow-hidden \">\r\n      {/* Top left logo */}\r\n      <div className=\"absolute top-6 left-6 z-20 flex items-center space-x-3\">\r\n        <div className=\"w-12 h-12 text-white bg-white/20 backdrop-blur-sm border border-white rounded-lg flex items-center justify-center\">\r\n          <span className=\"text-white font-bold text-lg\">\r\n            <DotLottieReact\r\n              src=\"https://lottie.host/a7b9f14d-2086-4292-9b5b-480f20aa2c11/vgNJBeL1Pr.lottie\"\r\n              className=\"w-10 h-10\"\r\n              loop\r\n              autoplay\r\n            />\r\n          </span>\r\n        </div>\r\n        <span className=\"text-white font-semibold text-xl tracking-wide\">\r\n          NEXUS ORG\r\n        </span>\r\n      </div>\r\n      <div className=\"flex flex-row items-center justify-center h-screen w-full\">\r\n        <div className=\"bg-main-bg/90 h-full flex-1 items-center relative overflow-visible min-w-0\">\r\n          {/* Decorative Scribbles */}\r\n          <Image\r\n            src=\"/images/scribble/Scribble-3.svg\"\r\n            alt=\"Scribble 3\"\r\n            width={120}\r\n            height={120}\r\n            className=\"absolute -top-10 -left-10 opacity-60 rotate-12 z-0 pointer-events-none select-none\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <Image\r\n            src=\"/images/scribble/Scribble-9.svg\"\r\n            alt=\"Scribble 21\"\r\n            width={100}\r\n            height={100}\r\n            className=\"absolute bottom-1/4 right-20 opacity-40 rotate-10 z-0 pointer-events-none select-none\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <Image\r\n            src=\"/images/scribble/Scribble-7.svg\"\r\n            alt=\"Scribble 21\"\r\n            width={100}\r\n            height={100}\r\n            className=\"absolute top-1/2 left-0 opacity-40 rotate-3 z-0 pointer-events-none select-none\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <Image\r\n            src=\"/images/scribble/Scribble-21.svg\"\r\n            alt=\"Scribble 21\"\r\n            width={100}\r\n            height={100}\r\n            className=\"absolute top-8 right-1/6 rotate-3 z-0 pointer-events-none select-none\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          {/* Main Illustration */}\r\n          <Image\r\n            src=\"/images/login-illu.png\"\r\n            alt=\"Login-illustration\"\r\n            height={200}\r\n            width={200}\r\n            className=\"h-full w-full object-cover relative z-10\"\r\n          />\r\n        </div>\r\n        <div className=\"h-full py-4 divider-horizontal divider mx-0.5\" />\r\n        <div className=\"flex-1 h-full flex items-center justify-start\">\r\n          <LoginForm\r\n            onLogin={onLogin}\r\n            onForgotPassword={onForgotPassword}\r\n            onSignUp={onSignUp}\r\n            isLoading={isLoading}\r\n            error={error}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,MAAM,QAA8B,CAAC,EACnC,OAAO,EACP,gBAAgB,EAChB,QAAQ,EACR,YAAY,KAAK,EACjB,KAAK,EACN;IACC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCACd,cAAA,8OAAC,sLAAc;gCACb,KAAI;gCACJ,WAAU;gCACV,IAAI;gCACJ,QAAQ;;;;;;;;;;;;;;;;kCAId,8OAAC;wBAAK,WAAU;kCAAiD;;;;;;;;;;;;0BAInE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,eAAY;;;;;;0CAEd,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,eAAY;;;;;;0CAEd,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,eAAY;;;;;;0CAEd,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,eAAY;;;;;;0CAGd,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,QAAQ;gCACR,OAAO;gCACP,WAAU;;;;;;;;;;;;kCAGd,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,6IAAS;4BACR,SAAS;4BACT,kBAAkB;4BAClB,UAAU;4BACV,WAAW;4BACX,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAMnB;uCAEe"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useAuth } from \"@/components/auth\";\r\nimport Login from \"@/components/ui/login\";\r\nimport { $crud } from \"@/factory/crudFactory\";\r\n\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { login } = useAuth();\r\n\r\n  const handleLogin = async (credentials: {\r\n    email: string;\r\n    password: string;\r\n  }) => {\r\n    try {\r\n      // Use the $crud factory to call organization/login API\r\n      const response = await $crud.post(\"organization/login\", {\r\n        email: credentials.email,\r\n        password: credentials.password,\r\n      });\r\n\r\n      // Check for token in response.data\r\n      const token = response?.data?.data?.token;\r\n      const userData = response?.data?.data?.user;\r\n\r\n      if (token && userData) {\r\n        // Store the token and user data using our auth system\r\n        login(token, userData);\r\n\r\n        enqueueSnackbar(`Welcome back, ${userData.name}!`, { variant: \"success\" });\r\n\r\n        // Redirect to dashboard\r\n        router.replace(\"/dashboard\");\r\n      } else {\r\n        enqueueSnackbar(\"Login failed - invalid response from server\", {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      console.error(\"Login error:\", error);\r\n      const errorMessage =\r\n        error?.message ||\r\n        error?.response?.data?.message ||\r\n        \"An error occurred during login\";\r\n      enqueueSnackbar(errorMessage, { variant: \"error\" });\r\n    }\r\n  };\r\n\r\n  const handleForgotPassword = () => {\r\n    // Implement forgot password logic\r\n    enqueueSnackbar(\"Forgot password functionality not implemented yet\", {\r\n      variant: \"info\",\r\n    });\r\n  };\r\n\r\n  const handleSignUp = () => {\r\n    // Implement sign up logic or redirect\r\n    enqueueSnackbar(\"Sign up functionality not implemented yet\", {\r\n      variant: \"info\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Login\r\n      onLogin={handleLogin}\r\n      //   onForgotPassword={handleForgotPassword}\r\n      onSignUp={handleSignUp}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,4JAAW;IACvC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,iJAAO;IAEzB,MAAM,cAAc,OAAO;QAIzB,IAAI;YACF,uDAAuD;YACvD,MAAM,WAAW,MAAM,+HAAK,CAAC,IAAI,CAAC,sBAAsB;gBACtD,OAAO,YAAY,KAAK;gBACxB,UAAU,YAAY,QAAQ;YAChC;YAEA,mCAAmC;YACnC,MAAM,QAAQ,UAAU,MAAM,MAAM;YACpC,MAAM,WAAW,UAAU,MAAM,MAAM;YAEvC,IAAI,SAAS,UAAU;gBACrB,sDAAsD;gBACtD,MAAM,OAAO;gBAEb,gBAAgB,CAAC,cAAc,EAAE,SAAS,IAAI,CAAC,CAAC,CAAC,EAAE;oBAAE,SAAS;gBAAU;gBAExE,wBAAwB;gBACxB,OAAO,OAAO,CAAC;YACjB,OAAO;gBACL,gBAAgB,+CAA+C;oBAC7D,SAAS;gBACX;YACF;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM,eACJ,OAAO,WACP,OAAO,UAAU,MAAM,WACvB;YACF,gBAAgB,cAAc;gBAAE,SAAS;YAAQ;QACnD;IACF;IAEA,MAAM,uBAAuB;QAC3B,kCAAkC;QAClC,gBAAgB,qDAAqD;YACnE,SAAS;QACX;IACF;IAEA,MAAM,eAAe;QACnB,sCAAsC;QACtC,gBAAgB,6CAA6C;YAC3D,SAAS;QACX;IACF;IAEA,qBACE,8OAAC,qIAAK;QACJ,SAAS;QACT,4CAA4C;QAC5C,UAAU;;;;;;AAGhB"}}]
}