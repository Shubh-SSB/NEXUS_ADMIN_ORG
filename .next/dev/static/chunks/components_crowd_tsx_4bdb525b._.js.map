{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projekts/Projekts/NEXUS_ADMIN_ORG_GIT/components/crowd.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { gsap } from \"gsap\";\r\nimport React, { useEffect, useRef } from \"react\";\r\n\r\ninterface CrowdCanvasProps {\r\n  src: string;\r\n  rows?: number;\r\n  cols?: number;\r\n}\r\n\r\nconst CrowdCanvas = ({ src, rows = 15, cols = 7 }: CrowdCanvasProps) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) return;\r\n\r\n    const config = {\r\n      src,\r\n      rows,\r\n      cols,\r\n    };\r\n\r\n    // UTILS\r\n    const randomRange = (min: number, max: number) =>\r\n      min + Math.random() * (max - min);\r\n    const randomIndex = (array: any[]) => randomRange(0, array.length) | 0;\r\n    const removeFromArray = (array: any[], i: number) => array.splice(i, 1)[0];\r\n    const removeItemFromArray = (array: any[], item: any) =>\r\n      removeFromArray(array, array.indexOf(item));\r\n    const removeRandomFromArray = (array: any[]) =>\r\n      removeFromArray(array, randomIndex(array));\r\n    const getRandomFromArray = (array: any[]) => array[randomIndex(array) | 0];\r\n\r\n    // TWEEN FACTORIES\r\n    const resetPeep = ({ stage, peep }: { stage: any; peep: any }) => {\r\n      const direction = Math.random() > 0.5 ? 1 : -1;\r\n      const offsetY = 100 - 250 * gsap.parseEase(\"power2.in\")(Math.random());\r\n      const startY = stage.height - peep.height + offsetY;\r\n      let startX: number;\r\n      let endX: number;\r\n\r\n      if (direction === 1) {\r\n        startX = -peep.width;\r\n        endX = stage.width;\r\n        peep.scaleX = 1;\r\n      } else {\r\n        startX = stage.width + peep.width;\r\n        endX = 0;\r\n        peep.scaleX = -1;\r\n      }\r\n\r\n      peep.x = startX;\r\n      peep.y = startY;\r\n      peep.anchorY = startY;\r\n\r\n      return {\r\n        startX,\r\n        startY,\r\n        endX,\r\n      };\r\n    };\r\n\r\n    const normalWalk = ({ peep, props }: { peep: any; props: any }) => {\r\n      const { startX, startY, endX } = props;\r\n      const xDuration = 10;\r\n      const yDuration = 0.25;\r\n\r\n      const tl = gsap.timeline();\r\n      tl.timeScale(randomRange(0.5, 1.5));\r\n      tl.to(\r\n        peep,\r\n        {\r\n          duration: xDuration,\r\n          x: endX,\r\n          ease: \"none\",\r\n        },\r\n        0\r\n      );\r\n      tl.to(\r\n        peep,\r\n        {\r\n          duration: yDuration,\r\n          repeat: xDuration / yDuration,\r\n          yoyo: true,\r\n          y: startY - 10,\r\n        },\r\n        0\r\n      );\r\n\r\n      return tl;\r\n    };\r\n\r\n    const walks = [normalWalk];\r\n\r\n    // TYPES\r\n    type Peep = {\r\n      image: HTMLImageElement;\r\n      rect: number[];\r\n      width: number;\r\n      height: number;\r\n      drawArgs: any[];\r\n      x: number;\r\n      y: number;\r\n      anchorY: number;\r\n      scaleX: number;\r\n      walk: any;\r\n      setRect: (rect: number[]) => void;\r\n      render: (ctx: CanvasRenderingContext2D) => void;\r\n    };\r\n\r\n    // FACTORY FUNCTIONS\r\n    const createPeep = ({\r\n      image,\r\n      rect,\r\n    }: {\r\n      image: HTMLImageElement;\r\n      rect: number[];\r\n    }): Peep => {\r\n      const peep: Peep = {\r\n        image,\r\n        rect: [],\r\n        width: 0,\r\n        height: 0,\r\n        drawArgs: [],\r\n        x: 0,\r\n        y: 0,\r\n        anchorY: 0,\r\n        scaleX: 1,\r\n        walk: null,\r\n        setRect: (rect: number[]) => {\r\n          peep.rect = rect;\r\n          peep.width = rect[2];\r\n          peep.height = rect[3];\r\n          peep.drawArgs = [peep.image, ...rect, 0, 0, peep.width, peep.height];\r\n        },\r\n        render: (ctx: CanvasRenderingContext2D) => {\r\n          ctx.save();\r\n          ctx.translate(peep.x, peep.y);\r\n          ctx.scale(peep.scaleX, 1);\r\n          ctx.drawImage(\r\n            peep.image,\r\n            peep.rect[0],\r\n            peep.rect[1],\r\n            peep.rect[2],\r\n            peep.rect[3],\r\n            0,\r\n            0,\r\n            peep.width,\r\n            peep.height\r\n          );\r\n          ctx.restore();\r\n        },\r\n      };\r\n\r\n      peep.setRect(rect);\r\n      return peep;\r\n    };\r\n\r\n    // MAIN\r\n    const img = document.createElement(\"img\");\r\n    const stage = {\r\n      width: 0,\r\n      height: 0,\r\n    };\r\n\r\n    const allPeeps: Peep[] = [];\r\n    const availablePeeps: Peep[] = [];\r\n    const crowd: Peep[] = [];\r\n\r\n    const createPeeps = () => {\r\n      const { rows, cols } = config;\r\n      const { naturalWidth: width, naturalHeight: height } = img;\r\n      const total = rows * cols;\r\n      const rectWidth = width / rows;\r\n      const rectHeight = height / cols;\r\n\r\n      for (let i = 0; i < total; i++) {\r\n        allPeeps.push(\r\n          createPeep({\r\n            image: img,\r\n            rect: [\r\n              (i % rows) * rectWidth,\r\n              ((i / rows) | 0) * rectHeight,\r\n              rectWidth,\r\n              rectHeight,\r\n            ],\r\n          })\r\n        );\r\n      }\r\n    };\r\n\r\n    const initCrowd = () => {\r\n      while (availablePeeps.length) {\r\n        addPeepToCrowd().walk.progress(Math.random());\r\n      }\r\n    };\r\n\r\n    const addPeepToCrowd = () => {\r\n      const peep = removeRandomFromArray(availablePeeps);\r\n      const walk = getRandomFromArray(walks)({\r\n        peep,\r\n        props: resetPeep({\r\n          peep,\r\n          stage,\r\n        }),\r\n      }).eventCallback(\"onComplete\", () => {\r\n        removePeepFromCrowd(peep);\r\n        addPeepToCrowd();\r\n      });\r\n\r\n      peep.walk = walk;\r\n\r\n      crowd.push(peep);\r\n      crowd.sort((a, b) => a.anchorY - b.anchorY);\r\n\r\n      return peep;\r\n    };\r\n\r\n    const removePeepFromCrowd = (peep: Peep) => {\r\n      removeItemFromArray(crowd, peep);\r\n      availablePeeps.push(peep);\r\n    };\r\n\r\n    const render = () => {\r\n      if (!canvas) return;\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.save();\r\n      ctx.scale(devicePixelRatio, devicePixelRatio);\r\n\r\n      crowd.forEach((peep) => {\r\n        peep.render(ctx);\r\n      });\r\n\r\n      ctx.restore();\r\n    };\r\n\r\n    const resize = () => {\r\n      if (!canvas) return;\r\n      stage.width = canvas.clientWidth;\r\n      stage.height = canvas.clientHeight;\r\n      canvas.width = stage.width * devicePixelRatio;\r\n      canvas.height = stage.height * devicePixelRatio;\r\n\r\n      crowd.forEach((peep) => {\r\n        peep.walk.kill();\r\n      });\r\n\r\n      crowd.length = 0;\r\n      availablePeeps.length = 0;\r\n      availablePeeps.push(...allPeeps);\r\n\r\n      initCrowd();\r\n    };\r\n\r\n    const init = () => {\r\n      createPeeps();\r\n      resize();\r\n      gsap.ticker.add(render);\r\n    };\r\n\r\n    img.onload = init;\r\n    img.src = config.src;\r\n\r\n    const handleResize = () => resize();\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      gsap.ticker.remove(render);\r\n      crowd.forEach((peep) => {\r\n        if (peep.walk) peep.walk.kill();\r\n      });\r\n    };\r\n  }, []);\r\n  return (\r\n    <canvas ref={canvasRef} className=\"absolute bottom-0 h-[90vh] w-full\" />\r\n  );\r\n};\r\n\r\nconst Skiper39 = () => {\r\n  return (\r\n    <div className=\"relative h-full w-full bg-white text-black\">\r\n      <div className=\"top-22 absolute left-1/2 grid -translate-x-1/2 content-start justify-items-center gap-6 text-center text-black\">\r\n        <span className=\"relative max-w-[12ch] text-xs uppercase leading-tight opacity-40 after:absolute after:left-1/2 after:top-full after:h-16 after:w-px after:bg-gradient-to-b after:from-white after:to-black after:content-['']\">\r\n          Croud Canvas\r\n        </span>\r\n      </div>\r\n      <div className=\"absolute bottom-0 h-full w-screen\">\r\n        <CrowdCanvas src=\"/images/peeps/all-peeps.png\" rows={15} cols={7} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { CrowdCanvas, Skiper39 };\r\n\r\n/**\r\n * Skiper 39 Canvas_Landing_004 — React + Canvas\r\n * Inspired by and adapted from https://codepen.io/zadvorsky/pen/xxwbBQV\r\n * illustration by https://www.openpeeps.com/\r\n * We respect the original creators. This is an inspired rebuild with our own taste and does not claim any ownership.\r\n * These animations aren’t associated with the codepen.io . They’re independent recreations meant to study interaction design\r\n *\r\n * License & Usage:\r\n * - Free to use and modify in both personal and commercial projects.\r\n * - Attribution to Skiper UI is required when using the free version.\r\n * - No attribution required with Skiper UI Pro.\r\n *\r\n * Feedback and contributions are welcome.\r\n *\r\n * Author: @gurvinder-singh02\r\n * Website: https://gxuri.in\r\n * Twitter: https://x.com/Gur__vi\r\n */\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 346, "column": 4}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}